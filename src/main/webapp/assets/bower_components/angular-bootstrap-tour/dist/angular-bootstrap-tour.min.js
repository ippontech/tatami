!function(){"use strict"}(angular.module("bm.bsTour",[])),function(a){"use strict";a.provider("TourConfig",[function(){var a={prefixOptions:!1,prefix:"bsTour"};this.set=function(b,c){a[b]=c},this.$get=[function(){var b={};return b.get=function(b){return a[b]},b}]}])}(angular.module("bm.bsTour")),function(a){"use strict";a.controller("TourController",["$filter","$timeout",function(a,b){function c(b){var c=a("orderBy")(b,"order");return angular.forEach(c,function(a,b){a.next=c[b+1]?b+1:-1,a.prev=b-1}),c}var d,e=this,f=[],g=angular.noop,h={};e.refreshTour=function(){f=f.filter(function(a){return a!==h}),f[0]&&f[0].redirectPrev&&f.unshift(h),f[f.length-1]&&f[f.length-1].redirectNext&&f.push(h),d&&(d._options.steps=[],d.addSteps(c(f)))},e.addStep=function(a){~f.indexOf(a)||(f.push(a),e.refreshTour(),g(a))},e.removeStep=function(a){~f.indexOf(a)&&(f.splice(f.indexOf(a),1),e.refreshTour())},e.getSteps=function(){return f},e.waitFor=function(a){d.end(),g=function(c){c.stepId===a&&(d.setCurrentStep(f.indexOf(c)),b(function(){d.start(!0)}))}},e.init=function(a){return a.steps=c(f),d=new Tour(a)}}])}(angular.module("bm.bsTour")),function(a){"use strict";function b(){return["TourHelpers",function(a){return{restrict:"EA",scope:!0,controller:"TourController",link:function(b,c,d,e){var f,g={},h="onStart onEnd afterGetState afterSetState afterRemoveState onShow onShown onHide onHidden onNext onPrev onPause onResume".split(" "),i="name container keyboard storage debug redirect duration basePath backdrop orphan".split(" ");a.attachInterpolatedValues(d,g,i),a.attachEventHandlers(b,d,g,h),f=a.attachTemplate(b,d,g),b.$watchCollection(e.getSteps,function(a){b.stepCount=a.length}),d.tourOptions&&angular.extend(g,b.$eval(d.tourOptions)),d[a.getAttrName("options")]&&angular.extend(g,b.$eval(d[a.getAttrName("options")])),f.then(function(){b.tour=e.init(g),b.tour.refresh=e.refreshTour})}}}]}a.directive("tour",b()),a.directive("bsTour",b())}(angular.module("bm.bsTour")),function(a){"use strict";a.factory("TourHelpers",["$templateCache","$http","$compile","TourConfig","$q",function(a,b,c,d,e){function f(a,b){return function(){var d=angular.element(a);return i(b,function(){c(d)(b)}),d}}function g(c,d){return b.get(c,{cache:a}).success(function(a){return a?f(a,d):""})}function h(a){return"true"===a?!0:"false"===a?!1:a}var i,j={};return i=j.safeApply=function(a,b){var c=a.$$phase;"$apply"===c||"$digest"===c?b&&"function"==typeof b&&b():a.$apply(b)},j.attachTemplate=function(a,b,c){var d,h=e.defer();return b[j.getAttrName("template")]?(d=f(a.$eval(b[j.getAttrName("template")]),a),c.template=d,h.resolve(d)):b[j.getAttrName("templateUrl")]?g(b[j.getAttrName("templateUrl")],a).then(function(a){a&&(c.template=a,h.resolve(a))}):h.resolve(),h.promise},j.attachEventHandlers=function(a,b,c,d){angular.forEach(d,function(d){b[j.getAttrName(d)]&&(c[d]=function(){i(a,function(){a.$eval(b[j.getAttrName(d)])})})})},j.attachInterpolatedValues=function(a,b,c){angular.forEach(c,function(c){a[j.getAttrName(c)]&&(b[c]=h(a[j.getAttrName(c)]),a.$observe(j.getAttrName(c),function(a){b[c]=h(a)}))})},j.getAttrName=function(a){return d.get("prefixOptions")?d.get("prefix")+a.charAt(0).toUpperCase()+a.substr(1):a},j}])}(angular.module("bm.bsTour")),function(a){"use strict";function b(){return["TourHelpers","$location",function(a,b){return{restrict:"EA",scope:!0,require:"^tour",link:function(c,d,e,f){function g(){var b;return e[a.getAttrName("skip")]&&(b=c.$eval(e[a.getAttrName("skip")])),b||(b=!!l.path||d.is(":hidden")&&!e.availableWhenHidden),b}function h(d,e,g){var h=l[d];l[d]=function(d){h&&h(d),f.waitFor(g),a.safeApply(c,function(){b.path(e)})}}var i,j,k,l={element:d,stepId:e.tourStep},m="onShow onShown onHide onHidden onNext onPrev onPause onResume".split(" "),n="content title path animation container placement backdrop redirect orphan reflex duration nextStep prevStep nextPath prevPath".split(" ");a.attachInterpolatedValues(e,l,n),i=e.$observe(a.getAttrName("order"),function(a){l.order=isNaN(1*a)?0:1*a,f.refreshTour()}),a.attachEventHandlers(c,e,l,m),k=a.attachTemplate(c,e,l),j=c.$watch(g,function(a){a?f.removeStep(l):f.addStep(l)}),c.$on("$destroy",function(){f.removeStep(l),i(),j()}),e[a.getAttrName("options")]&&angular.extend(l,c.$eval(e[a.getAttrName("options")])),l.nextPath&&(l.redirectNext=!0,h("onNext",l.nextPath,l.nextStep)),l.prevPath&&(l.redirectPrev=!0,h("onPrev",l.prevPath,l.prevStep)),k.then(function(){f.addStep(l)})}}}]}a.directive("tourStep",b()),a.directive("bsTourStep",b())}(angular.module("bm.bsTour"));